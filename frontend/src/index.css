@import "tailwindcss";

/* ‚ö†Ô∏è TAILWIND V4 FORCE CLASS STRATEGY ‚ö†Ô∏è */
@variant dark (&:where(.dark, .dark *));

:root {
  --page-bg: #ffffff;
}

html.dark {
  --page-bg: #131314;
}

/* Global styles ‚Äî plain CSS only */
html,
body {
  background-color: white;
  color: #111827; /* gray-900 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Add smooth transition for the theme switch */
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* FEATURE FLAG LOGIC: 
   This override ONLY applies when the Navbar adds "dark" to the HTML tag.
   If the feature flag is off, this code is ignored.
*/
html.dark body {
  /* CHANGED: From #0f172a (Blue Slate) to #131314 (Gemini/Soft Dark) */
  background-color: #131314; 
  
  /* CHANGED: Slightly softer white for text to reduce contrast strain */
  color: #e3e3e3;            
}

/* ========================================================================
   GLOBAL SMOOTHNESS FIX
   This targets ALL elements and animates their colors when the theme changes.
   We specifically exclude 'transform' and 'opacity' to not break your 
   existing hover animations or mobile menu slides.
   ======================================================================== */
html, body, *, *::before, *::after {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 700ms;
  transition-timing-function: ease-in-out;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out;
}

.emergency-btn {
  @apply bg-white border border-red-300 text-red-700 rounded-lg py-2 text-center font-semibold transition-all hover:bg-red-600 hover:text-white hover:-translate-y-0.5;
}

/* Dark mode override for the emergency button */
html.dark .emergency-btn {
  @apply bg-slate-800 border-red-900 text-red-400 hover:bg-red-700 hover:text-white;
}

@media screen {
  .pdf-hide {
    display: grid;
  }
}

@media print {
  /* Hide everything by default */
  body * {
    visibility: hidden;
  }

  /* Show ONLY the report */
  .print-area,
  .print-area * {
    visibility: visible;
  }

  /* Position report cleanly */
  .print-area {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
  }

  /* üö´ Hide buttons, navbar, sticky bars */
  .pdf-hide,
  .print-hide {
    display: none !important;
  }

  /* Remove shadows & background clutter */
  body {
    background: white !important;
  }
}

/* Hide scrollbar but keep scroll */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}